## 坦克动荡游戏制作

### 1. 游戏概述

坦克动荡是一款经典的2D射击游戏，玩家控制一辆坦克在一个封闭的地图中与敌人进行战斗。游戏的目标是消灭所有敌人并尽可能长时间地生存下来。游戏中有多种武器和道具可供玩家使用，增加了游戏的趣味性和挑战性。

### 2. 游戏玩法

- 玩家控制坦克在地图上移动，使用武器攻击敌人（电脑）
- 或者玩家1（使用wasd控制）与玩家2（使用上下左右控制）在同一台电脑可以进行对战（2人，三局两胜）
- 地图上会随机生成道具，玩家可以拾取并使用
- 游戏结束条件：玩家的坦克被击毁，或者敌人全部被消灭

### 3. 游戏界面

- 主菜单：开始游戏、游戏模式（包括玩家对战电脑，两个玩家之间对战，多人联机（展示只展示按钮，不做实际开发））、退出
- 游戏界面：显示坦克、敌人、道具、地图
- 游戏结束界面：显示游戏结果、重新开始、退出

### 4. 游戏设计
- 坦克：玩家控制的坦克，具有生命值、攻击力、移动速度等属性
- 敌人：电脑控制的坦克，具有生命值、攻击力、移动速度等属性
- 道具：随机生成的道具，可以增加玩家的生命值、攻击力、移动速度等属性
- 地图：封闭的地图，玩家和敌人可以在上面移动和攻击
- **地图布局 (Map Layouts):** 游戏包含多种预设地图，每张地图都有其独特的障碍物布局，为战斗提供不同的战术挑战。目前包含以下地图：
    - **地图 1 (Map 1): 中央通道与S型绕行**
        - 描述: 地图中央有两条较短的横向主墙壁，形成一个较宽的中央通道。通道内有两个错开的短竖墙，迫使坦克S型绕行。主墙壁的两侧区域（靠近玩家出生点一侧）各有两对垂直短墙，增加了该区域的复杂性。
    - **地图 2 (Map 2): H型结构与外延障碍**
        - 描述: 地图中央是一个对称的 "H" 型障碍结构。在H型结构的上下两个主要开口处，各增加了一个竖直的短墙。此外，从H型结构四个外侧的角点（即两条长竖墙的端点），各向外延伸出一条横向短墙，使得H型结构外围的通道更为曲折。
    - **地图 3 (Map 3): 四角方块与中央十字**
        - 描述: 地图的四个角落各有一个方形障碍块。地图正中央是一个由一条长横墙和一条长竖墙组成的十字形障碍。此外，在地图左侧偏上区域和右侧偏下区域，各增加了一条较长的垂直墙壁，它们分别贴近游戏区域的上下边界，进一步限制了移动空间。
- 武器：玩家和敌人使用的武器，具有不同的攻击力和射程
- 游戏模式：单人模式（玩家对战电脑）、双人模式（两个玩家之间对战）、多人联机（展示按钮，不做实际开发）
- 游戏结束条件：玩家的坦克被击毁，或者敌人全部被消灭
- 游戏结果：显示游戏结果（胜利或失败）、重新开始、退出
- 游戏音效：背景音乐、射击音效、爆炸音效等
- 游戏画面：2D画面，坦克、敌人、道具、地图等元素使用简单的图形表示
- 物理效果：
  - 碰撞检测：坦克与坦克、坦克与道具、坦克与地图之间的碰撞检测
  - 子弹发射：坦克发射子弹，子弹与敌人、道具、地图之间的碰撞检测
  - 爆炸效果：坦克被击毁时的爆炸效果
  - 道具效果：道具被拾取时的效果

### 5. 游戏开发
- 使用Python和Arcade库进行游戏开发
- 美术资源：使用简单的图形表示坦克、敌人、道具、地图等元素
- 音效资源：使用简单的音效表示背景音乐、射击音效、爆炸音效等
- 游戏逻辑：使用Python编写游戏逻辑，包括坦克的移动、攻击、碰撞检测等
- 游戏界面：使用Arcade库绘制游戏界面，包括主菜单、游戏界面、游戏结束界面等
- 游戏测试：进行游戏测试，修复bug，优化游戏性能
- 游戏发布：将游戏打包成可执行文件，发布到各大游戏平台

### 6. 项目资源

- [Arcade库文档](https://api.arcade.academy/en/latest/)
- 坦克贴图资源（\tank\tank-img目录下）
- 游戏引擎Python 3.x + Arcade 库物理系统Pymunk (通过Arcade集成)Arcade内置Pymunk，方便实现2D刚体物理模拟、碰撞检测和场景破坏效果。

## 开发指南

- 使用Python 3.11版本（已经安装）
- 安装Arcade库（已经安装）
- 安装Pymunk库（已经安装）
- 使用uv初始化项目（已完成 uv init）
- 最终游戏界面参考tank\instruction\example.png
- 需要实现的功能：
  - 坦克移动
  - 坦克射击
  - 敌人AI
  - 道具拾取
  - 游戏结束条件
  - 游戏结果显示
  - 音效播放
  - 碰撞检测
  - 爆炸效果
  - 道具效果
  - 游戏界面绘制
  - 游戏逻辑实现
- 需要阅读arcade文档时，使用context7
- 需要搜索网络时，使用zhipu-websearch-mcp
